{% schema %}
  {
    "name": "Gift Guide Banner",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Background Image"
      },
      {
        "type": "image_picker",
        "id": "mobile_image",
        "label": "Mobile Background Image"
      },
      {
        "type": "richtext",
        "id": "title",
        "label": "Title",
        "default": "<p>The Gift Guide</p>"
      },
      {
        "type": "richtext",
        "id": "subtitle",
        "label": "Subtitle",
        "default": "<p>Discover Joy: Your Ultimate Holiday Gift Destination. Explore our curated selection and find the perfect gifts to delight your loved ones this holiday season.</p>"
      },
      
      {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default": "SHOP NOW"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button Link",
        "default": "/collections/all" 
      },
      {
        "type": "richtext",
        "id": "choose_gift_text",
        "label": "Choose Gift Text",
        "default": "<p>CHOOSE GIFT →</p>"
      },
      {
        "type": "url",
        "id": "choose_gift_link",
        "label": "Choose Gift Link",
        
      },
      {
        "type": "text",
        "id": "tagline_text",
        "label": "Tagline Text",
        "default": "SUSTAINABLE, ETHICALLY MADE CLOTHES IN SIZES XXS TO 6XL"
      },
      {
        "type": "richtext",
        "id": "top_bar_logo_text",
        "label": "Top Bar Logo Text",
        "default": "<p>TISSO VISON</p>"
      },
      {
        "type": "richtext",
        "id": "top_bar_text",
        "label": "Top Bar Text",
        "default": "<p>Find the ideal gift for your loved ones.<p>"
      }
    ],
    "presets": [
      {
        "name": "Gift Guide Banner",
        "category": "Image"
      }
    ]
  }
{% endschema %}

<div class="gift-guide-banner">

  <div class="top-bar">
    <!-- Toggle Button for Mobile -->
    <p>{{ section.settings.top_bar_logo_text }}</p>
    <p>{{ section.settings.top_bar_text }}</p>
      <a href="{{ section.settings.choose_gift_link }}" class="choose-gift-button">
      {{ section.settings.choose_gift_text }}
    </a>
  </div>

  <div class="top-bar-mobile">
    <!-- Toggle Button for Mobile -->
      <button class="toggle-button" onclick="toggleMenu()">☰</button>
    <p class="logo">{{ section.settings.top_bar_logo_text }}</p>
  </div>

  <!-- Mobile Dropdown Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <button class="close-button" onclick="toggleMenu()">×</button>
      <p>{{ section.settings.top_bar_text }}</p>
      <a href="{{ section.settings.choose_gift_link }}" class="choose-gift-button">
          {{ section.settings.choose_gift_text }}
      </a>
  </div>

  <div class="banner-content" 
       style="background-image: url({{ section.settings.image | img_url: 'master' }}); 
              background-size: contain; 
              background-position: center; 
              background-repeat: no-repeat;">

    <div class="text-content-mobile">
      <h2>{{ section.settings.title }}</h2>
      <p>{{ section.settings.subtitle }}</p>
      
    </div>
    <div class="mobile-banner-content"
         style="background-image: url({{ section.settings.mobile_image | img_url: 'master' }});
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
                "> <a href="{{ section.settings.button_link }}" class="button-mobile">
        {{ section.settings.button_text }} <span class="arrow"> ⟶ </span>
      </a> </div>
    <div class="text-content">
      <h2>{{ section.settings.title }}</h2>
      <p>{{ section.settings.subtitle }}</p>
      <a href="{{ section.settings.button_link }}" class="button">
        {{ section.settings.button_text }} <span class="arrow"> ⟶ </span>
      </a>
    </div>

  

  </div>

  <div class="tagline">
    <p>{{ section.settings.tagline_text }}</p>
  </div>
</div>


<style>
  /* Basic Styling - Customize as needed */
/* Basic Styling - Customize as needed */
@media (min-width: 768px) {
  .top-bar-mobile {
    display: none;
  }

  .toggle-button {
    display: none;
    font-size: 24px;
    background: none;
    border: none;
    cursor: pointer;
  }

  .mobile-menu {
    display: none;
    flex-direction: column;
    background-color: #fff;
    padding: 10px;
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .mobile-menu.open {
    display: flex;
  }

  .banner-content {
    display: flex;
    flex-direction: column; /* Stack elements vertically */
    align-items: left; /* Center horizontally */
    text-align: left; /* Center text within content */
    padding: 20px;
    flex-grow: 1; /* Allow banner content to take up available space */
    height: 600px;
  }

  .text-content {
    position: absolute;
    bottom: 8%;
    left: 10%;
    margin: 0; /* Remove margins for proper positioning */
    max-width: 400px; /* Limit width for readability */
    background: white; /* Optional: Add background for visibility */
    text-align: left; /* Limit width of text content for readability */
    padding-bottom: 20px;
  }

  .text-content-mobile {
    display: none;
  }

  .mobile-banner-content {
    display: none;
  }
}

.gift-guide-banner {
  /* Adjust padding for height */
  color: black; /* Text color */
  position: relative; /* For positioning tagline */
  overflow: hidden; /* Hide overflowing elements */
  display: flex;
  flex-direction: column;
  /* Ensure a minimum height for the banner */
  justify-content: space-between; /* Distribute space between elements */
}

.top-bar {
  background-color: #F5F5F5; /* Semi-transparent background */
  padding: 10px;
  display: inline-flex;
  text-align: center;
  width: 100%;
  justify-content: space-between; /* Distribute items evenly */
  align-items: center; /* Vertically align items */
  /* Set a maximum width for the top bar content */
  margin: 0 auto; /* Center the content within the top bar */
  padding: 0 20px;
  height: 60px; /* Ensure full width */
}

.button {
  display: inline-block;
  padding: 10px 30px;
  text-decoration: none;
  background-color: #000; /* Button background color */
  color: #fff; /* Button text color */
  border-radius: 5px; /* Rounded corners */
  transition: background-color 0.3s ease; /* Smooth transition for hover effect */
  font-size: 1.1em;
}

.button:hover,
.choose-gift-button:hover {
  background-color: #FF7074; /* Darker background on hover */
}

.choose-gift-button {
  text-decoration: none;
  background-color: yellow; /* Transparent background for choose gift button */
  color: black;
  padding: 10px 20px;
  /* Space above the choose gift button */
}

.tagline {
background-color: #F5F5F5;
    text-align: center;
    font-size: 14px;
    width: 100%;
    padding-left: 20px;
    padding-right: 20px;
}

  /* Shaking animation */
@keyframes shake {
  0% { transform: translateX(0); }
  20% { transform: translateX(-3px); }
  40% { transform: translateX(3px); }
  60% { transform: translateX(-3px); }
  80% { transform: translateX(3px); }
  100% { transform: translateX(0); }
}

/* Apply animation to buttons */
.button,
.button-mobile,
.choose-gift-button {
  display: inline-block;
  padding: 10px 30px;
  border-radius: 5px; /* Rounded corners */
  transition: background-color 0.3s ease;
  font-size: 1.1em;
  animation: shake 1.2s ease-in-out infinite;
  animation-delay: 3s; /* Delay before starting the shake */
}

.button:hover,
.button-mobile:hover,
.choose-gift-button:hover {
  background-color: #FF7074;
  animation: none; /* Stop shaking on hover */
}


/* Responsive adjustments if needed */
@media (max-width: 768px) {


  .choose-gift-button {
  background-color: yellow; /* Transparent background for choose gift button */
  color: black;
  padding: 10px 20px;
  /* Space above the choose gift button */
    width: 200px;
    align-self: center;
    text-align: center;
}

   .mobile-menu .top_bar_text{
     text-align: center;
   }

  
  .button-mobile {
    display: inline-block;
    padding: 15px 30px;
    text-decoration: none;
    background-color: #000; /* Button background color */
    color: #fff; /* Button text color */
    border-radius: 5px; /* Rounded corners */
    transition: background-color 0.3s ease; /* Smooth transition for hover effect */
    font-size: 1.1em;
    width: 200px;
  }

  .button-mobile:hover,
  .choose-gift-button:hover {
    background-color: #FF7074; /* Darker background on hover */
  }

  .banner-content {
    background-image: none !important; /* Remove desktop image */
  }

  .mobile-banner-content {
    display: flex;
    flex-direction: column; /* Stack elements vertically */
    align-items: center; /* Center horizontally */
    text-align: center; /* Center text within content */
    padding: 20px;
    flex-grow: 1; /* Allow banner content to take up available space */
    height: 300px; /* Show mobile image */
    justify-content: end;
  }

  .top-bar {
    display: none;
  }

  .top-bar-mobile {
    display: flex;
     /* Align items to left and right */
    align-items: center; /* Vertically center */
    background-color: #F5F5F5;
    padding: 10px; /* Add some padding */
  }

  h2 {
    font-size: 2em; /* Adjust for smaller screens */
  }

  p {
    font-size: 1em;
    text-align: center;/* Adjust for smaller screens */
  }

  .toggle-button {
    display: block;
    font-size: 24px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 28px;
    margin-left: 10px; /* Add some space from the left edge */
    margin-right: 60px;
  }

  .mobile-menu {
    display: none;
    flex-direction: column;
    background-color: #fff;
    padding: 10px;
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    
  }

  .mobile-menu.open {
    display: flex;
        z-index: 2;
        padding-bottom: 30px;
        margin-top: 20px;
        background-color: #F5F5F5;
  }

  .close-button {
    position: absolute;
        top: -40px;
        left: 20px;
        font-size: 40px;
        background: #F5F5F5;
        border: none;
        cursor: pointer;
        z-index: 2; /* Ensure it's above other elements */
  }

  .top-bar-mobile .logo {
    text-align: center;
    flex-grow: 1; /* Allow logo to take up available space */
    margin: 0; /* Remove default margins */
  }


  .text-content {
    display: none;
  }

  .text-content-mobile {
    position: relative;
    margin: 10px 10px; /* Remove margins for proper positioning */
    max-width: 400px; /* Limit width for readability */
    background: white; /* Optional: Add background for visibility */
    text-align: center; /* Limit width of text content for readability */
  }
}

h6,
.h6 {
  color: rgba(var(--color-foreground), 0.75);
  margin-block-start: 0px;
  margin-block-end: 0px;
}

</style>

<script>
function toggleMenu() {
    const mobileMenu = document.getElementById("mobileMenu");
    mobileMenu.classList.toggle("open");
}
</script>
